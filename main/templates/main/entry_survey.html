{% load i18n %}
{% load widget_tweaks %}
{% load static %}
<div id="entry-survey" class="pl-xl-4 pr-xl-4 pb-5">
    <div class="entry-step row mb-2">
        <div class="col">
            Step 2
        </div>
    </div>
    <div id="entry-survey-start" class="">
        <div class="row">
            <div class="col-3">
                <object type="image/svg+xml" class="w-100 w-md-75" data="{% static 'img/mapping.svg' %}" alt="image of someone drawing a community map"></object>
            </div>
            <div class="col-9">
                <div class="entry-header">
                    <strong>{% trans "Tell us about what unites your community." %}</strong>
                </div>
                <div class="info-text">
                    {% trans "Next, you will answer questions about your community before mapping it. We want to know what brings your community together."%}
                </div>
                <br>

                <div id="survey-start-infographic" class="d-none d-xl-inline-block mb-3">
                    <div class="row m-0 header-text">
                        <strong>{% trans "What is a Community of Interest?" %}</strong>
                    </div>
                    
                    <div id="entry-coi-def" class="row m-0 info-text">
                        {% blocktrans %}
                            <p>
                                A Community of Interest is a <strong>geographic area</strong> that shares <strong>cultural</strong>, <strong>historical</strong>, or <strong>economic</strong> interests. 
                                Communities of Interest encourage the drawing of fairer voting districts.
                            </p>
                        {% endblocktrans %}
                    </div>

                    <div class="row m-0" style="color: #3C8EB0; font-size: .85rem">
                        <strong> {% trans "Communities of Interest can include..." %} </strong>
                    </div>

                    <div class="row row-equal-cols text-center mx-0 mt-3 ">
                        <div class="col-lg-4 col-sm-12">
                            <div class="row h-100 row-equal-cols">
                                <div class="col-lg-4 col-sm-1 text-center">
                                    <div class="justify-content-center">
                                        <object type="image/svg+xml" class="w-100" data="{% static 'img/num1-circle.svg' %}" alt="image of white number 1 with blue circle background"></object>
                                    </div>
                                </div>
                                <div class="col-lg-8 col-sm-11">
                                    <div class="row h-100 survey-start-txt-pic">
                                        <div class="col-lg-12 text-left survey-start-sm-txt">
                                            {% blocktrans %}
                                                Your neighborhood, or an area you live in.
                                            {% endblocktrans %}
                                        </div>
                                        
                                        <div class="col-lg-12 text-center survey-start-pic">
                                            <div class="">
                                                <object type="image/svg+xml" class="w-50 mt-1 mb-0" data="{% static 'img/voting.svg' %}" alt="image of clipart of voting"></object>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-sm-12">
                            <div class="row h-100 row-equal-cols">
                                <div class="col-lg-4 text-center">
                                    <div class="justify-content-center">
                                        <object type="image/svg+xml" class="w-100" data="{% static 'img/num2-circle.svg' %}" alt="image of white number 2 with blue circle background"></object>
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row h-100 survey-start-txt-pic">
                                        <div class="col-lg-12 text-left survey-start-sm-txt">
                                            {% blocktrans %}
                                                The people you would like to be represented with by public servants.   
                                            {% endblocktrans %}
                                        </div>
                                        
                                        <div class="col-lg-12 text-center survey-start-pic">
                                            <div class="">
                                                <object type="image/svg+xml" class="w-50" data="{% static 'img/city_icon-2.svg' %}" alt="image of clipart buildings"></object>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-sm-12">
                            <div class="row">
                                <div class="col-lg-4">
                                    <object type="image/svg+xml" class="w-100" data="{% static 'img/num3-circle.svg' %}" alt="image of white number 3 with blue circle background"></object>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row h-100 survey-start-txt-pic">
                                        <div class="col-lg-12 text-left survey-start-sm-txt">
                                            {% blocktrans %}
                                                A group that is brought together by a common interest. 
                                            {% endblocktrans %}
                                        </div>
                                        
                                        <div class="col-lg-12 text-center survey-start-pic">
                                            <div class="">
                                                <object type="image/svg+xml" class="w-50 mt-2" data="{% static 'img/community_input.svg' %}" alt="image of silhouette people talking"></object>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row text-center d-none d-xl-block">
                    <div class="col mt-4">
                        <div style="display: inline-block;">
                            <button class="btn btn-outline-primary btn-lg" onclick="startSurvey()">{% trans "Start Survey" %}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- For tablet and mobile views-->
        <div class="row d-xl-none">
            <div class="col-12">          
                <div id="survey-start-infographic" class="mt-3 mb-5">
                    <div class="row m-0 header-text">
                        <strong>{% trans "What is a Community of Interest?" %}</strong>
                    </div>
                    
                    <div id="entry-coi-def" class="row m-0 info-text">
                        {% blocktrans %}
                            <p>
                                A Community of Interest is a geographic area that shares <strong>cultural</strong>, <strong>historical</strong>, or <strong>economic</strong> interests. 
                                Communities of Interest encourage the drawing of fairer voting districts.
                            </p>
                        {% endblocktrans %}
                    </div>

                    <div class="m-0 text-center" style="color: #3C8EB0; font-size: .85rem">
                        <strong style="display:inline-block;"> {% trans "Communities of Interest can include..." %} </strong>
                    </div>

                    <div class="row row-equal-cols text-center mx-0 mt-3">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-3 text-right">
                                    <object type="image/svg+xml" class="w-50 w-lg-25" data="{% static 'img/num1-circle.svg' %}" alt="image of white number 1 with blue circle background"></object>
                                </div>
                                <div class="col-6">
                                    <div class="text-left survey-start-sm-txt">
                                        {% blocktrans %}
                                            The people you would like to vote for politicians with. 
                                        {% endblocktrans %}
                                    </div>                                      
                                </div>
                                <div class="col-3 text-left">
                                    <div class="">
                                        <object type="image/svg+xml" class="w-50 w-lg-25 mt-1 mb-0" data="{% static 'img/voting.svg' %}" alt="image of clipart of voting"></object>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 pt-2">
                            <div class="row">
                                <div class="col-3 text-right">
                                    <object type="image/svg+xml" class="w-50 w-lg-25" data="{% static 'img/num2-circle.svg' %}" alt="image of white number 2 with blue circle background"></object>
                                </div>
                                <div class="col-6">
                                    <div class="text-left survey-start-sm-txt">
                                        {% blocktrans %}
                                            Your neighborhood, or an area you live in.  
                                        {% endblocktrans %}
                                    </div>
                                </div>
                                <div class="col-3 text-left">
                                    <div class="">
                                        <object type="image/svg+xml" class="w-50 w-lg-25" data="{% static 'img/city_icon-2.svg' %}" alt="image of clipart buildings"></object>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 pt-2">
                            <div class="row">
                                <div class="col-3 text-right">
                                    <div class="justify-content-center">
                                        <object type="image/svg+xml" class="w-50 w-lg-25" data="{% static 'img/num3-circle.svg' %}" alt="image of white number 3 with blue circle background"></object>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="text-left survey-start-sm-txt">
                                        {% blocktrans %}
                                            Any group you are a part of that shares common interests. 
                                        {% endblocktrans %}
                                    </div>
                                </div>
                                <div class="col-3 text-left">
                                    <div class="">
                                        <object type="image/svg+xml" class="w-50 w-lg-25 mt-2" data="{% static 'img/community_input.svg' %}" alt="image of silhouette people talking"></object>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row text-center">
                    <div class="col mt-4">
                        <div style="display: inline-block;">
                            <button class="btn btn-outline-primary btn-lg" onclick="startSurvey()">{% trans "Start Survey" %}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            {% comment %} </div> {% endcomment %}
        {% comment %} </div> {% endcomment %}
    </div>


    <!-- Page for the first set of the survey questions -->
    <div id="survey-qs-p1" class="row row-equal-cols d-none">
        <div class="col-lg">
            <div class="entry-header">
                <strong>{% trans "Community of Interest Questions" %}</strong>
            </div>
            <div class="survey-instruction">
                {% blocktrans %}
                    <p>
                        To submit your community entry, you must provide a response to <b>at least one</b> of the questions below.
                        Please respond to all the questions that apply.<br><br>

                        Click on each category to see helpful questions.
                    </p>
                {% endblocktrans %}
            </div>
            <div class="">
                <!-- Form Errors -->
                {% if comm_form.cultural_interests.errors %}
                <div id="interests-error-alerts">
                    <script>
                        sessionStorage.setItem("allChecks", "fail");
                    </script>
                    <div id="interests_missing" class="alert alert-danger django-alert alert-dismissible fade show form-error" role="alert">
                        {% trans "Please fill out at least one of the interest fields." %}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
                {% endif %}
                <div id="need_one_interest" class="alert alert-danger alert-dismissible fade show form-error d-none" role="alert">
                    {% trans "Please fill out at least one of the interest fields." %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!-- Form Errors END -->
                <!-- Sections: -->
                <!--  Economic -->
                <button class="btn btn-link text-left pl-0 survey-sect-title-link" type="button" data-toggle="collapse" data-target="#economic_interests_example" aria-expanded="false" aria-controls="collapseOne">
                    <h5 class="survey-sect-title">{% trans "Economic and Environmental Interests" %}<i class="fas fa-angle-down survey-angle-down"></i></h5>
                </button>
                <div class="accordion" id="economic_interests_accordion">
                    <div id="economic_interests_example" class="collapse" aria-labelledby="economic_interests_accordion" data-parent="#economic_interests_accordion">
                        <p class="collapse-in ml-4">
                            {% blocktrans %} Is there a shared economy in the geographic area of your community? <br>How and where are residents employed? <br>Are there shared environmental concerns such as landfills or water quality? {% endblocktrans %}
                        </p>
                    </div>
                </div>
                <div class="sr-only">{{ comm_form.economic_interests.label_tag }}</div>
                {{ comm_form.economic_interests|append_attr:"class:form-control survey-field" }}
                <!-- Activities -->
                <button class="btn btn-link text-left pl-0 survey-sect-title-link" type="button" data-toggle="collapse" data-target="#comm_activities_example" aria-expanded="false" aria-controls="collapseOne">
                    <h5 class="survey-sect-title">{% trans "Communities Activities and Services" %}<i class="fas fa-angle-down survey-angle-down"></i></h5>
                </button>
                {% comment %} {% blocktrans %}
                <p class="card-text mb-0">
                    Where do people in your community gather or socialize? Where does your community get its services?
                </p>
                {% endblocktrans %} {% endcomment %}
                <div class="accordion" id="comm_activities_accordion">
                    {% comment %} <button class="btn btn-link text-left pl-0" type="button" data-toggle="collapse" onclick="changeText(this)" data-target="#comm_activities_example" aria-expanded="false" aria-controls="collapseOne">
                    {% trans "Show Examples" %}
                    </button> {% endcomment %}
                    <div id="comm_activities_example" class="collapse" aria-labelledby="comm_activities_accordion" data-parent="#comm_activities_accordion">
                        <p class="collapse-in ml-4">
                            {% blocktrans %} Where do people in your community gather or socialize? <br>Where does your community get its services? {% endblocktrans %}
                        </p>
                    </div>
                </div>
                <div class="sr-only">{{ comm_form.comm_activities.label_tag }}</div>
                {{ comm_form.comm_activities|append_attr:"class:form-control survey-field" }}
                <!-- Cultural -->
                <button class="btn btn-link text-left pl-0 survey-sect-title-link" type="button" data-toggle="collapse" data-target="#cultural_interests_example" aria-expanded="false" aria-controls="collapseOne">
                    <h5 class="survey-sect-title">{% trans "Cultural or Historical Interests" %}<i class="fas fa-angle-down survey-angle-down"></i></h5>
                </button>
                {% comment %} <a href="" class="card-text survey-sect-title-link"><h5 class="survey-sect-title">{% trans "Cultural or Historical Interests" %}<i class="fas fa-angle-down survey-angle-down"></i></h5></a> {% endcomment %}

                <div class="accordion" id="cultural_interests_accordion">
                    <div id="cultural_interests_example" class="collapse" aria-labelledby="cultural_interests_accordion" data-parent="#cultural_interests_accordion">
                        <p class="collapse-in ml-4">
                            {% blocktrans %} What fosters a sense of belonging in your community?
                    <br>What common beliefs or values exist? {% endblocktrans %}
                        </p>
                    </div>
                </div>
                <div class="sr-only">{{ comm_form.cultural_interests.label_tag }}</div>
                {{ comm_form.cultural_interests|append_attr:"class:form-control survey-field" }}
                <!-- Other -->
                <button class="btn btn-link text-left pl-0 survey-sect-title-link" type="button" data-toggle="collapse" data-target="#other_interests_example" aria-expanded="false" aria-controls="collapseOne">
                    <h5 class="survey-sect-title">{% trans "Community Needs and Concerns" %}<i class="fas fa-angle-down survey-angle-down"></i></h5>
                </button>
                {% comment %} <a href="" class="card-text survey-sect-title-link"><h5 class="survey-sect-title">{% trans "Community Needs and Concerns" %}<i class="fas fa-angle-down survey-angle-down"></i></h5></a> {% endcomment %}
                <!-- <div id="other_error_alerts">
                    {% if comm_form.other_considerations.errors %}
                        <script>
                            sessionStorage.setItem("allChecks", "fail");
                        </script>
                        <div id="economic_errors" class="alert alert-danger django-alert alert-dismissible fade show form-error" role="alert">
                            <ul class="m-0">
                            {% for error in comm_form.other_consideration.errors %}
                                <li>{{ error|escape }}</li>
                            {% endfor %}
                            </ul>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    {% endif %}
                </div> -->
                <div class="accordion" id="other_interests_accordion">
                    <div id="other_interests_example" class="collapse" aria-labelledby="other_interests_accordion" data-parent="#other_interests_accordion">
                        <p class="collapse-in ml-4">
                            {% trans "What other interests does your community care about? <br>Do you have any suggestions for how the redistricting commission in your state could help address these concerns?" %}
                        </p>
                    </div>
                </div>
                <div class="sr-only">{{ comm_form.other_considerations.label_tag }}</div>
                {{ comm_form.other_considerations|append_attr:"class:form-control survey-field" }}
            </div>
            <div class="form-row text-center">
                <div class="col mt-4">
                    <div style="display: inline-block;">
                        <button id="save" form="entryForm" type="submit" class="btn btn-lg btn-outline-primary" value="Submit">{% trans "Next" %}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>





    <!-- Community Name Part -->
    <div id="survey-qs-p2" class="d-none">
        <div class="col-lg mt-2 ml-lg-3 mt-lg-5">
        <div id="entry_name_error_alerts">
                {% if comm_form.entry_name.errors %}
                    <script>
                        sessionStorage.setItem("allChecks", "fail");
                    </script>
                    <div id="entry_name_errors" class="alert alert-danger django-alert alert-dismissible fade show form-error" role="alert">
                        <ul class="m-0">
                        {% for error in comm_form.entry_name.errors %}
                            <li>{{ error|escape }}</li>
                        {% endfor %}
                        </ul>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endif %}
            </div>
            <div class="row">
                <div id="survey-comm-name-pic" class="col-lg-3">
                    <object type="image/svg+xml" class="w-75 pt-2" data="{% static 'img/community-name-page.svg' %}" alt="image of white number 3 with blue circle background"></object>
                </div>
                <div id="survey-comm-name-header" class="col-lg-9 pl-xl-0">
                    <div class="entry-header">
                        <strong>{% trans "Name your community." %}</strong>
                    </div>

                    <div class="row m-0 info-text">
                        {% blocktrans %}
                            <p>
                                Give your community of interest a name. This does not have to be the official name of your community. 
                            </p>
                        {% endblocktrans %}
                    </div>
                </div>
            </div>
            <div class="row pt-5">
                <div class="pb-3 text-center col-xl-3 text-xl-left pt-xl-2 pr-xl-0" style="font-size: 1.2rem; color: #5996D2;">
                    <strong>{% trans "Community Name:"%}</strong>
                </div>
                <div class="col-xl-9 pl-xl-0">
                    <div class="sr-only">{{ comm_form.entry_name.label_tag }}</div>
                    {{ comm_form.entry_name|append_attr:"class:form-control survey-field" }}
                </div>
            </div>

                    {% comment %} <div class="card-body">
                        <p class="card-text">
                            {% trans "What name can we use to identify your community?" %} <small class="text-danger">{% trans "(Required)" %}</small>
                            <!-- TODO we should find a better example -->
                            <br>
                            <small>{% trans "For example: Cherry Farmers Community, Huron River Watershed, Chippewa Community, LAX Airport Communities, University of Texas Students, El Barrio" %}</small>
                        </p>
                        <div class="sr-only">{{ comm_form.entry_name.label_tag }}</div>
                        {{ comm_form.entry_name|append_attr:"class:form-control survey-field" }}

                    </div> {% endcomment %}
            <div class="form-row text-center">
                <div class="col mt-4">
                    <div style="display: inline-block;">
                        <button id="save" form="entryForm" type="submit" class="btn btn-lg btn-outline-primary" value="Submit">{% trans "Next" %}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>