{% extends 'main/base.html' %}
{% load leaflet_tags %}
{% load static %}
{% block head %}
{% leaflet_js %}
{% leaflet_css %}
<!--  Mapbox GL JS-->
<meta charset='utf-8' />
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
{% endblock %}

<!-- Main Content -->
{% block content %}
<div class="container">
  <!-- Illustration -->
  <div class="row row-hero row-eq-height my-5 border-bottom">
    <div class="col-lg-7 col-sm-12 col-md-7">
      <!-- Shows on medium devices and higher. -->
      <h4 class="display-4 my-4 font-weight-medium d-none d-sm-block main-display-text-all">
        Redistricting is coming. Let’s make it impartial.
      </h4>
      <!-- Shows on small devices and lower. -->
      <h5 class="display-4 my-2 font-weight-medium d-sm-none main-display-text-sm">
        Redistricting is coming. Let’s make it impartial.
      </h5>
      <h4 class="font-weight-light d-none d-sm-block text-muted my-4">
        We’re creating maps of communities to fight for your representation. Add your community to the map today and make your voice heard.
      </h4>
      <p class="d-sm-none font-weight-medium text-muted my-2">
        We’re creating maps of communities to fight for your representation. Add your community to the map today and make your voice heard.
      </p>
      <!-- <p class="font-weight-light text-muted my-4 main-display-text-sm">
        We’re creating maps of communities to fight for fair representation. Add your community to the map today and make your voice heard.
      </p> -->
      <a id="get-started-btn" class="btn btn-primary mb-5 mt-2" href="#select" role="button">Get Started <i class="fa fa-arrow-circle-right"></i></a>
      </div>
      <div class="col-lg-5 col-sm-12 col-md-5">
        <img class="img-fluid align-bottom my-3" src="{% static 'img/illustration.svg' %}"> </img>
      </div>
    </div>
    <!-- What does Representable do? -->
    <div id="learn-more" class="container my-5">
      <!-- <h3 class="my-5 text-center">
        What is Representable.org?
      </h3> -->
      <h2 class="text-center font-weight-light">What is Representable.org?</h2>
      <p class="my-3 d-none d-sm-block text-center lead">
        Representable is a free, web-based platform designed to collect data provided by Communities to support redistricting work.
        Our tool offers a platform for Community members to provide information about the geographic boundaries of their Community,
        alongside the cultural, historic, economic, and other interests that bind them together. Data and maps gathered with
        Representable are standardized and easy to understand, supporting mapmakers, journalists, non-profits, and policy groups
        as they draw and evaluate the maps that will be used in Congressional and State legislature elections.
        Join us to fight gerrymandering and mobilize communities to get the representation they deserve through a impartial
        and transparent map drawing process.
        Interested in learning more? Check out our <a target="_blank" href="https://drive.google.com/open?id=1zeSkzuMoFi5uayc3OdB7BVWM6qI3dMkF1E5Nktjl5Rc">Official Education Guide.</a>
      </p>
      <p class="my-3 d-sm-none small text-center lead">
        Representable is a free, web-based platform designed to collect data provided by Communities to support redistricting work.
        Our tool offers a platform for Community members to provide information about the geographic boundaries of their Community,
        alongside the cultural, historic, economic, and other interests that bind them together. Data and maps gathered with
        Representable are standardized and easy to understand, supporting mapmakers, journalists, non-profits, and policy groups
        as they draw and evaluate the maps that will be used in Congressional and State legislature elections.
        Join us to fight gerrymandering and mobilize communities to get the representation they deserve through a impartial
        and transparent map drawing process.
        Interested in learning more? Check out our <a target="_blank" href="https://drive.google.com/open?id=1zeSkzuMoFi5uayc3OdB7BVWM6qI3dMkF1E5Nktjl5Rc">Official Education Guide.</a>
      </p>
    </div>
    <!-- How To -->
    <div class="row my-3">
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/citizens.svg' %}"></img>
          <div class="card-body text-center d-flex flex-column align-items-center">
            <h5>
              For community members
            </h5>
            <p>
              Learn how to use Representable to draw your community.
            </p>
            <div class="text-center">
              <a id="card-add-community-btn" class="btn btn-outline-primary mx-2 my-1" href="#select" role="button">Add your community</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto" href="/entry" role="button">Get Started</a> -->
          </div>
        </div>
      </div>
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/map.svg' %}"></img>
          <div class="card-body text-center flex-column align-items-center">
            <h5 class="card-title">
              For organizations
            </h5>
            <p class="card-text">
              Work with us to map communities across the United States.
            </p>
            <div class="text-center">
              <a id="card-partner-btn" class="btn btn-outline-primary mx-2 my-1" href="#partner" role="button">Partner with us</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto" href="mailto: team@representable.org?subject=Hello!" role="button">Contact Us</a> -->
          </div>
        </div>
      </div>
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/redistricter.svg' %}"></img>
          <div class="card-body text-center flex-column align-items-center">
            <h5 class="card-title">
              For redistricters
            </h5>
            <p class="card-text">
              Use our data to protect communities during the map drawing process.
            </p>
            <div class="text-center">
              <a class="btn btn-outline-secondary mx-2 my-1 disabled" href="#" role="button">Coming soon!</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto disabled" href="#" role="button">Coming Soon</a> -->
          </div>
        </div>
      </div>
    </div>
    <div class="my-5">
      <div class="text-center">
        <h2 id="select" class="my-3 font-weight-light">Select your state to get started. </h2>
          <select id="stateSelectionDropdown">
          <option label="" value="select-a-state"></option>
        </select>
      </div>
      <div>
        <div id="usa-map"></div>
      </div>
    </div>
    <div id="partner" class="row row-hero row-eq-height border-top">
      <div class="col-lg-5 col-sm-12 col-md-5 my-5">
        <!-- credit for illustration to https://undraw.co/ !-->
        <img class="img-fluid align-bottom my-3" src="{% static 'img/leader.svg' %}"> </img>
      </div>
      <div class="col-lg-7 col-sm-12 col-lg-7 my-5">
        <h2 class="my-3 font-weight-light">Are you the leader of an organization?</h2>
        <p class="my-3 lead">Many organizations have partnered with Representable.org to collect community-of-interest data. Get started by creating a partner profile.</p>
        <a id="hero-partner-btn" class="btn btn-primary mx-2 my-1" href="/partners/welcome" role="button">
          Partner with us <i class="fa fa-arrow-circle-right"></i>
        </a>
      </div>
    </div>

    <!--
    <div class="jumbotron jumbotron-fluid what-is-gerrymandering rounded my-3">
    <div class="text-center">
    <h3 class="my-3">What is Gerrymandering?</h3>
    <blockquote class="blockquote m-5">
    <p class="mb-0 my-2">"...The practice of drawing the boundaries of electoral districts in a way that gives one political party an unfair advantage over its rivals (political or partisan gerrymandering) or that dilutes the voting
    power of members of ethnic or linguistic minority groups (racial gerrymandering)."</p>
    <footer class="blockquote-footer quote-footer"><cite title="Source Title">Encyclopedia Britannica</cite></footer>
  </blockquote>
</div> -->
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">
  mapboxgl.accessToken = "{{ mapbox_key }}";
</script>
<script type="text/javascript" src="{% static 'main/js/components/jquery.vmap.min.js' %}"></script>
<script type="text/javascript" src="{% static 'main/js/components/jquery.vmap.usa.js' %}"></script>
<script type="text/javascript" src="{% static 'main/js/main.js' %}"></script>
<script type="text/javascript" src="{% static 'main/js/components/states.js' %}"></script>
<script type="text/javascript">
  // Track Front Page Buttons
  document.getElementById("get-started-btn").addEventListener("click", function() {
      mixpanel.track("Get Started Pressed");
  });

  mixpanel.track_links("#edu-guide-link", "Educational Guide Link");
  mixpanel.track_links("#card-add-community-btn", "Card Add Community Click");
  mixpanel.track_links("#edu-guide-link-btn", "Card Partner Click");
  mixpanel.track_links("#hero-partner-btn", "Hero Partner With Us Click");
  mixpanel.track("Front Page Loaded");
</script>
{% endblock %}
