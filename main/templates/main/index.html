{% extends 'main/base.html' %}
{% load leaflet_tags %}
{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block head %}
{% leaflet_js %}
{% leaflet_css %}
<!--  Mapbox GL JS-->
<meta charset='utf-8' />
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
{% endblock %}

<!-- Main Content -->
{% block content %}
<div class="container">
  <!-- Illustration -->
  <div class="row row-hero row-eq-height m-sm-5">
    <div class="col-lg-6 col-sm-12 col-md-6 pl-sm-5">
      <div class="my-4 main-display-text-all">
        <span class="d-block mb-3">Redistricting is coming.</span>
        <span class="d-block h3 font-weight-light">Put your community on the map.</span>
      </div>
      <a id="get-started-btn" class="btn btn-outline-primary btn-lg mb-5 mt-2" href="{% url 'main:entry_preview' %}" role="button">{% trans "Get Started" %} <i class="fa fa-arrow-circle-right"></i></a>
      <div class="alert alert-custom px-5 d-none d-lg-block" role="alert">
        <p class="my-3 h5 font-weight-bold">{% trans "Are you the leader of an organization?" %}</p>
        <p class="my-3 font-weight-light">{% trans "Many organizations have partnered with Representable.org to collect community-of-interest data." %}</p>
        <p class="my-3"><a class="link-custom" href='/partners/welcome'>{% trans "PARTNER WITH US" %}</a></p>
      </div>
      </div>
      <div class="col-lg-6 col-sm-12 col-md-6">
        <img class="img-fluid align-bottom my-3 pl-sm-5" src="{% static 'img/illustration.svg' %}" alt="people drawing a map"> </img>
      </div>
      <div class="col d-lg-none">
        <div class="alert alert-custom px-5" role="alert">
          <p class="my-3 h5 font-weight-bold">{% trans "Are you the leader of an organization?" %}</p>
          <p class="my-3 font-weight-light">{% trans "Many organizations have partnered with Representable.org to collect community-of-interest data." %}</p>
          <p class="my-3"><a class="link-custom" href='/partners/welcome'>{% trans "PARTNER WITH US" %}</a></p>
        </div>
      </div>
    </div>
    <!-- What does Representable do? -->
    <div id="learn-more" class="container mb-5">
      <img class="mx-auto d-block w-10" src="{% static 'img/logo.svg' %}" alt="representable logo - continental USA made of blocks"> </img>
      <h2 class="text-center font-weight-light py-4">{% trans "What is Representable?" %}</h2>
      <p class="my-3 d-none d-sm-block text-center lead mx-5 px-5">
        {% if LANGUAGE_CODE == 'en-us' %}
          Our mission is <b>to give communities a voice in drawing districts.</b> Representable is a free tool that empowers people to create maps of communities, alongside the cultural, historic, economic, and other interests that bind them together. Maps gathered with Representable are standardized and easy to understand, supporting mapmakers, journalists, non-profits, and policy groups as they draw and evaluate district plans. Join us to fight for communities to get the representation they deserve.
          {% elif LANGUAGE_CODE == 'es' %}
          Representable es una plataforma gratuita basada en la web diseñada para recopilar datos proporcionados por
          las Comunidades para apoyar el trabajo de redistritación. Nuestra herramienta ofrece una plataforma para que
          los miembros de la Comunidad proporcionen información sobre los límites geográficos de su Comunidad, junto con
          los intereses culturales, históricos, económicos y de otros intereses que los unen. Los datos y los mapas recopilados
          con Representable se estandarizan y fácil de entender, apoyando a los cartógrafos, periodistas, las organizaciones
          sin fines de lucro, y grupos de pólizas a medida que dibujan y evalúan los mapas que se utilizarán en las elecciones
          municipales del Congreso y del Estado. Unirse a nosotros para luchar contra la manipulación de circunscripciones electorales
          y movilizar a las comunidades para obtener la representación que se merecen a través de una imparcial y proceso de dibujo
          de mapas transparentes.
        {% endif %}
      </p>

      <p class="my-3 d-sm-none small text-center lead">
        {% if LANGUAGE_CODE == 'en-us' %}
          Our mission is <b>to give communities a voice in drawing districts.</b> Representable is a free, open-source platform that empowers people to create maps of communities, alongside the cultural, historic, economic, and other interests that bind them together. Maps gathered with Representable are standardized and easy to understand, supporting mapmakers, journalists, non-profits, and policy groups as they draw and evaluate district plans. Join us to fight for communities to get the representation they deserve.
            {% elif LANGUAGE_CODE == 'es' %}
          Representable es una plataforma gratuita basada en la web diseñada para recopilar datos proporcionados por
          las Comunidades para apoyar el trabajo de redistritación. Nuestra herramienta ofrece una plataforma para que
          los miembros de la Comunidad proporcionen información sobre los límites geográficos de su Comunidad, junto con
          los intereses culturales, históricos, económicos y de otros intereses que los unen. Los datos y los mapas recopilados
          con Representable se estandarizan y fácil de entender, apoyando a los cartógrafos, periodistas, las organizaciones
          sin fines de lucro, y grupos de pólizas a medida que dibujan y evalúan los mapas que se utilizarán en las elecciones
          municipales del Congreso y del Estado. Unirse a nosotros para luchar contra la manipulación de circunscripciones electorales
          y movilizar a las comunidades para obtener la representación que se merecen a través de una imparcial y proceso de dibujo
          de mapas transparentes.
        {% endif %}
      </p>
    </div>
    <!-- How To -->
    <div class="row my-3 d-none d-sm-flex">
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/citizens.svg' %}" alt="Icon of people"></img>
          <div class="card-body text-center d-flex flex-column align-items-center">
            <h5>
              {% trans "For community members" %}
            </h5>
            <p>
              {% trans "Learn how to use Representable to draw your community." %}
            </p>
            <div class="text-center">
              <a id="card-add-community-btn" class="btn btn-outline-primary mx-2 my-1" href="{% url 'main:entry_preview' %}" role="button">{% trans "Add your community" %}</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto" href="/entry" role="button">Get Started</a> -->
          </div>
        </div>
      </div>
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/map.svg' %}" alt="Icon of map"></img>
          <div class="card-body text-center flex-column align-items-center">
            <h5 class="card-title">
              {% trans "For organizations" %}
            </h5>
            <p class="card-text">
              {% trans "Work with us to map communities across the United States." %}
            </p>
            <div class="text-center">
              <a id="card-partner-btn" class="btn btn-outline-primary mx-2 my-1" href='/partners/welcome' role="button">{% trans "Partner with us" %}</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto" href="mailto: team@representable.org?subject=Hello!" role="button">Contact Us</a> -->
          </div>
        </div>
      </div>
      <div class="col-sm my-3 shadow-sm mx-3">
        <div class="card border-0">
          <img class="card-img-top img-fluid small-icon m-2 h-25 w-50 mx-auto" src="{% static 'img/redistricter.svg' %}" alt="Icon of voting people"></img>
          <div class="card-body text-center flex-column align-items-center">
            <h5 class="card-title">
              {% trans "For mapmakers" %}
            </h5>
            <p class="card-text">
              {% trans "Use Representable data to protect communities during the map drawing process." %}
            </p>
            <div class="text-center">
              <a class="btn btn-outline-secondary mx-2 my-1 disabled" href="#" role="button">{% trans "Coming soon!" %}</a>
            </div>
            <!-- <a class="btn btn-primary btn-canvas mt-auto disabled" href="#" role="button">Coming Soon</a> -->
          </div>
        </div>
      </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">
  // Track Front Page Buttons
  document.getElementById("get-started-btn").addEventListener("click", function() {
      mixpanel.track("Get Started Pressed");
  });

  mixpanel.track_links("#edu-guide-link", "Educational Guide Link");
  mixpanel.track_links("#card-add-community-btn", "Card Add Community Click");
  mixpanel.track_links("#edu-guide-link-btn", "Card Partner Click");
  mixpanel.track_links("#hero-partner-btn", "Hero Partner With Us Click");
  mixpanel.track("Front Page Loaded");
</script>
{% endblock %}
