{% extends 'main/base.html' %}
{% load leaflet_tags %}
{% load static %}



{% block head %}
{% leaflet_js %}
{% leaflet_css %}
<!--  Mapbox GL JS-->
<meta charset='utf-8' />
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
{% endblock %}

<!-- Not sure `block hero-pre` is necessary anymore. Used to contain the particles.js
animation in the first version of Districter/Representable. -->
{% block hero-pre %}
{% endblock %}

<!-- Main Content -->
{% block content %}
<div class="container">
    <!-- Illustration -->
    <div class="row row-hero">
        <div class="col-sm-6 my-5">
            <h1 class="display-5 mb-4">We're creating a map of all communities in America to end gerrymandering. Draw your community and make your voice heard.</h1>
            <a class="btn btn-primary btn-canvas" href="/entry" role="button">Draw a community</a>
            <a class="btn btn-primary btn-canvas" href="/map" role="button">View the map</a>
        </div>
        <div class="col-sm-6 my-5">
            <img class="img-fluid" src="{% static 'img/illustration.svg' %}"> </img>
        </div>
    </div>
    <!-- How To -->
    <div class="row">
        <div class="col-sm-4 my-3 hero-card">
            <div class="card">
                <div class="card-body text-center">
                    <img class="img-fluid small-icon m-2" src="{% static 'img/search.svg' %}"></img>
                    <p>1. Find your community.</p>
                </div>
            </div>
        </div>
        <div class="col-sm-4 my-3 hero-card">
            <div class="card">
                <div class="card-body text-center">
                    <img class="img-fluid small-icon m-2" src="{% static 'img/draw.svg' %}"></img>
                    <p>2. Draw your area.</p>
                </div>
            </div>
        </div>
        <div class="col-sm-4 my-3 hero-card">
            <div class="card">
                <div class="card-body text-center">
                    <img class="img-fluid small-icon m-2" src="{% static 'img/send.svg' %}"></img>
                    <p>3. Submit your map!</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">
    mapboxgl.accessToken = "{{ mapbox_key }}";
</script>
{% endblock %}
